(function(e){function t(t){for(var r,s,i=t[0],l=t[1],c=t[2],p=0,u=[];p<i.length;p++)s=i[p],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&u.push(n[s][0]),n[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);d&&d(t);while(u.length)u.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,i=1;i<a.length;i++){var l=a[i];0!==n[l]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=a[0]))}return e}var r={},n={app:0},o=[];function s(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=r,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var d=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{app:"",dense:"","elevate-on-scroll":"",dark:""}},[a("i",{staticClass:"fas fa-pastafarianism fa-lg mr-4"}),a("v-toolbar-title",[e._v("Monster Generator")]),a("v-spacer"),a("v-btn",{on:{click:e.exportCards}},[a("i",{staticClass:"fas fa-file-export fa-lg mr-2"}),e._v(" Export All ")])],1),a("v-content",[a("v-container",{staticStyle:{"padding-bottom":"30px"}},[a("v-row",[a("v-col",{attrs:{xs:"6",sm:"6",md:"4",lg:"3",xl:"2"}},[a("v-card",{staticStyle:{height:"100%"},attrs:{outlined:""}},[a("v-responsive",[a("v-card-title",[e._v(" Generate a Monster ")]),a("v-card-text",{staticClass:"caption"},[e._v(" Utilises the following APIs to generate monster cards: "),a("ul",[a("li",[a("a",{attrs:{href:"https://monsternames-api.com"}},[e._v("monsternames-api.com")])]),a("li",[a("a",{attrs:{href:"https://robohash.org/"}},[e._v("robohash.org")])]),a("li",[a("a",{attrs:{href:"https://api.quotable.io/"}},[e._v("api.quotable.io")])])]),a("v-divider",{staticClass:"my-4"}),a("div",{staticClass:"overline"},[e._v("Select monster type")]),a("v-chip-group",{attrs:{column:"",mandatory:"","active-class":"primary--text"},model:{value:e.selectedMonsterTab,callback:function(t){e.selectedMonsterTab=t},expression:"selectedMonsterTab"}},e._l(e.monsterTypes,(function(t){return a("v-chip",{key:t.name,attrs:{small:""}},[e._v(e._s(t.name))])})),1)],1),a("v-card-actions",[a("v-btn",{attrs:{large:"",text:""},on:{click:e.getMonster}},[e._v(" Generate ")]),a("v-btn",{attrs:{large:"",text:""},on:{click:e.removeAllCards}},[e._v(" Clear all ")])],1)],1)],1)],1),e._l(e.generatedMonsters.slice().reverse(),(function(t,r){return a("v-col",{key:r,ref:"generatedMonsters",refInFor:!0,attrs:{xs:"6",sm:"6",md:"4",lg:"3",xl:"2"}},[a("v-card",{attrs:{dark:t.darkCard,color:t.backgroundColor}},[a("v-responsive",{attrs:{"aspect-ratio":5/7}},[a("v-card-title",[a("div",{staticStyle:{width:"100%","text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden"}},[e._v(" "+e._s(t.name.fullName)+" ")])]),a("v-card-subtitle",{staticClass:"overline"},[e._v(e._s(t.type))]),a("v-container",{staticClass:"pt-0",staticStyle:{height:"100%"}},[a("v-img",{staticStyle:{"margin-top":"-40px"},attrs:{src:t.roboHashPath,contain:""}}),a("v-card-text",{staticClass:"mx-auto mt-3 pt-1 pb-0 black--text pa-2 caption",staticStyle:{background:"#fafafa",height:"100%","border-radius":"6px 6px 0 0","line-height":"1.1"}},[a("i",[e._v(" "+e._s(t.quote)+" ")])])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.hideCardOrnaments,expression:"!hideCardOrnaments"}]},[a("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var n=t.hover;return[a("v-btn",{staticClass:"mr-n5",attrs:{"x-small":"",absolute:"",top:"",right:"",depressed:"",color:"error"},on:{click:function(t){return e.removeCard(r)}}},[a("v-icon",{staticClass:"mr-1",attrs:{"x-small":""}},[e._v("mdi-delete")]),e._v(" "+e._s(n?"delete":"")+" ")],1)]}}],null,!0)}),a("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var n=t.hover;return[a("v-btn",{staticClass:"mt-6 mr-n5",attrs:{"x-small":"",absolute:"",top:"",right:"",depressed:"",color:"success"},on:{click:function(t){return e.exportCard(r)}}},[a("v-icon",{staticClass:"mr-1",attrs:{"x-small":""}},[e._v("mdi-download")]),e._v(" "+e._s(n?"export":"")+" ")],1)]}}],null,!0)})],1)],1)],1)],1)}))],2)],1),a("v-footer",{staticClass:"px-3",staticStyle:{height:"30px"},attrs:{dark:"",padless:"",absolute:""}},[a("div",{staticClass:"overline"},[e._v(" Made by "),a("a",{staticStyle:{color:"white"},attrs:{href:"https://www.mnuh.org/"}},[e._v("Mishael Nuh")])]),a("v-spacer"),a("v-btn",{attrs:{icon:"",small:"",href:"https://github.com/mishaelnuh/monster-generator"}},[a("i",{staticClass:"fab fa-github"})])],1),a("v-overlay",{attrs:{value:e.overlay,opacity:"0.9"}},[a("v-col",{attrs:{"text-align":"center"}},[a("div",{staticClass:"overline"},[e._v("Exporting...")]),a("br"),a("v-progress-circular",{attrs:{indeterminate:"",size:70}})],1)],1)],1)],1)},o=[],s=(a("a434"),a("b0c0"),a("d3b7"),a("3ca3"),a("ddb0"),a("e511")),i=a.n(s),l=a("951f"),c=a.n(l),d={name:"App",components:{},data:function(){return{monsterTypes:[{name:"Goatmen",endpoint:"/api/v1.0/goatmen"},{name:"Goblin",endpoint:"/api/v1.0/goblin"},{name:"Ogre",endpoint:"/api/v1.0/ogre"},{name:"Orc",endpoint:"/api/v1.0/orc"},{name:"Skeleton",endpoint:"/api/v1.0/skeleton"},{name:"Troll",endpoint:"/api/v1.0/troll"}],currentMonsterType:null,selectedMonsterTab:0,generatedMonsters:[],hideCardOrnaments:!1,overlay:!1}},watch:{generatedMonsters:function(e){localStorage.setItem("generatedMonsters",JSON.stringify(e))},selectedMonsterTab:function(e){localStorage.setItem("selectedMonsterTab",JSON.stringify(e))}},methods:{removeCard:function(e){this.generatedMonsters.splice(this.generatedMonsters.length-e-1,1)},removeAllCards:function(){this.generatedMonsters.splice(0,this.generatedMonsters.length)},getMonster:function(){var e=this,t=this.getRandomColor(),a=fetch("https://monsternames-api.com"+this.monsterTypes[this.selectedMonsterTab].endpoint).then((function(e){return e.json()})),r=fetch("https://api.quotable.io/random").then((function(e){return e.json()}));Promise.all([a,r]).then((function(a){return{name:a[0],type:e.monsterTypes[e.selectedMonsterTab].name,quote:a[1].content,backgroundColor:"#"+t,darkCard:e.isDarkCard(t),roboHashPath:"https://robohash.org/"+encodeURIComponent(a[0].fullName)+"?set=set2"}})).then((function(t){e.toDataURL(t.roboHashPath).then((function(a){t.roboHashPath=a,e.generatedMonsters.push(t)}))}))},getRandomColor:function(){for(var e="0123456789ABCDEF",t="",a=0;a<6;a++)t+=e[Math.floor(16*Math.random())];return t},isDarkCard:function(e){var t=Math.pow(parseInt("0x"+e.substring(0,2))/255,2.2),a=Math.pow(parseInt("0x"+e.substring(2,4))/255,2.2),r=Math.pow(parseInt("0x"+e.substring(4,6))/255,2.2),n=.2126*t+.7152*a+.0722*r;return n<.5},exportCard:function(e){var t=this;this.overlay=!0;var a=new i.a("p","in",[180,252]),r=a.internal.pageSize.getWidth(),n=a.internal.pageSize.getHeight();this.hideCardOrnaments=!0;var o=document.createElement("canvas");c()(this.$refs.generatedMonsters[e],{canvas:o,scale:3}).then((function(o){t.hideCardOrnaments=!1;var s=o.toDataURL("image/jpeg",1);a.addImage(s,"JPEG",0,0,r,n),a.save(t.generatedMonsters[t.generatedMonsters.length-1-e].name.fullName+".pdf"),t.overlay=!1}))},exportCards:function(){var e=this;if(0!=this.generatedMonsters.length){this.overlay=!0;var t=new i.a("p","in",[180,252]),a=t.internal.pageSize.getWidth(),r=t.internal.pageSize.getHeight(),n=[];this.hideCardOrnaments=!0;for(var o=0;o<this.generatedMonsters.length;o++){var s=document.createElement("canvas");n.push(c()(this.$refs.generatedMonsters[o],{canvas:s,scale:3}).then((function(e){var n=e.toDataURL("image/jpeg",1);t.addImage(n,"JPEG",0,0,a,r),t.addPage()})))}Promise.all(n.reverse()).then((function(){e.hideCardOrnaments=!1,t.deletePage(e.generatedMonsters.length+1),t.save("monster-cards.pdf"),e.overlay=!1}))}},toDataURL:function(e,t){return new Promise((function(a){var r=new Image;r.crossOrigin="Anonymous",r.addEventListener("load",(function(){var e=document.createElement("CANVAS"),n=e.getContext("2d");e.height=r.naturalHeight,e.width=r.naturalWidth,n.drawImage(r,0,0),a(e.toDataURL(t))})),r.src=e}))}},mounted:function(){localStorage.generatedMonsters&&(this.generatedMonsters=JSON.parse(localStorage.getItem("generatedMonsters"))),localStorage.selectedMonsterTab&&(this.selectedMonsterTab=JSON.parse(localStorage.getItem("selectedMonsterTab")))}},p=d,u=a("2877"),v=a("6544"),h=a.n(v),f=a("7496"),m=a("40dc"),g=a("8336"),b=a("b0af"),C=a("99d9"),y=a("cc20"),M=a("ef9a"),x=a("62ad"),_=a("a523"),w=a("a75b"),S=a("ce7e"),O=a("553a"),k=a("ce87"),V=a("132d"),T=a("adda"),P=a("a797"),I=a("490a"),j=a("6b53"),A=a("0fd9"),E=a("2fa4"),N=a("2a7f"),R=Object(u["a"])(p,n,o,!1,null,null,null),D=R.exports;h()(R,{VApp:f["a"],VAppBar:m["a"],VBtn:g["a"],VCard:b["a"],VCardActions:C["a"],VCardSubtitle:C["b"],VCardText:C["c"],VCardTitle:C["d"],VChip:y["a"],VChipGroup:M["a"],VCol:x["a"],VContainer:_["a"],VContent:w["a"],VDivider:S["a"],VFooter:O["a"],VHover:k["a"],VIcon:V["a"],VImg:T["a"],VOverlay:P["a"],VProgressCircular:I["a"],VResponsive:j["a"],VRow:A["a"],VSpacer:E["a"],VToolbarTitle:N["a"]});a("15f5"),a("7051");var G=a("f309");r["a"].use(G["a"]);var H=new G["a"]({icons:{iconfont:"fa"}});r["a"].config.productionTip=!1,new r["a"]({vuetify:H,render:function(e){return e(D)}}).$mount("#app")}});
//# sourceMappingURL=app.6983ae6c.js.map